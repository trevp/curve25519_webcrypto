<!DOCTYPE html>
<!-- saved from url=(0047)http://www.w3.org/respec/examples/template.html -->
<html lang="en" dir="ltr" typeof="bibo:Document " about="" property="dcterms:language" content="en" prefix="bibo: http://purl.org/ontology/bibo/ w3p: http://www.w3.org/2001/02pd/rec54#"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>This Is The Name Of Your Specification</title>
    <meta charset="utf-8">
    
    
  <style type="text/css"></style><style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #C83500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}

@media print {
    .removeOnSave {
        display: none;
    }
}
</style><link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/W3C-ED"><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--></head>
  <body class="h-entry" role="document" id="respecDocument"><div class="head" role="contentinfo" id="respecHeader">
  <p>
    
      <a href="http://www.w3.org/"><img width="72" height="48" src="./Curve25519_WebCrypto_files/w3c_home" alt="W3C"></a>
    
  </p>
  <h1 class="title p-name" id="title"
  property="dcterms:title">Curve25519 for WebCrypto</h1>
  
  <h2 property="dcterms:issued" datatype="xsd:dateTime" content="2013-10-23T20:01:57.000Z" id="w3c-editor-s-draft-23-october-2013"><abbr title="World Wide Web Consortium">W3C</abbr> Editor's Draft <time class="dt-published" datetime="2013-10-23">23 October 2013</time></h2>
  <dl>
    
      <dt>This version:</dt>
      <dd><a class="u-url" href=""></a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/xxx-xxx/">http://www.w3.org/TR/xxx-xxx/</a></dd>
        
    <dt>Editor:</dt>
    <dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Your Name" href="http://example.org/">Your Name</a>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://example.com/">Your Company</a>, <span class="ed_mailto"><a class="u-email email" rel="foaf:mbox" href="mailto:you@example.org">you@example.org</a></span></span>
</dd>

    
    
  </dl>
  
  
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
        2013
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), 
        
        All Rights Reserved.
        
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        
          <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a>
        
        rules apply.
      </p>
    
  
  <hr>
</div>
    <section id="abstract" class="introductory" property="dcterms:abstract" datatype="" typeof="bibo:Chapter" resource="#abstract" rel="bibo:Chapter"><h2 aria-level="1" role="heading" id="h2_abstract">Abstract</h2>
      <p>
        This is the abstract for your specification.
      </p>
    </section><section id="sotd" class="introductory" typeof="bibo:Chapter" resource="#sotd" rel="bibo:Chapter"><h2 aria-level="1" role="heading" id="h2_sotd">Status of This Document</h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication.
          Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the
          latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
          http://www.w3.org/TR/.</em>
        </p>
        
      <p>
        You need to have a custom SotD paragraph. Maybe give a succinct description of your spec's
        status.
      </p>
    
        <p>
          This document was published by the <a href="http://example.org/really-cool-wg">In Charge Of This Document Working Group</a> as an Editor's Draft.
          
          
            If you wish to make comments regarding this document, please send them to 
            <a href="mailto:spec-writers-anonymous@w3.org">spec-writers-anonymous@w3.org</a> 
            (<a href="mailto:spec-writers-anonymous-request@w3.org?subject=subscribe">subscribe</a>,
            <a href="http://lists.w3.org/Archives/Public/spec-writers-anonymous/">archives</a>).
          
          
          
          
            All comments are welcome.
          
        </p>
        
        
          <p>
            Publication as an Editor's Draft does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr>
            Membership. This is a draft document and may be updated, replaced or obsoleted by other
            documents at any time. It is inappropriate to cite this document as other than work in
            progress.
          </p>
        
        
        
        <p>
          
            This document was produced by a group operating under the 
            <a id="sotd_patent" about="" rel="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent
            Policy</a>.
          
          
          
            
              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="" rel="disclosure">public list of any patent
              disclosures</a> 
            
            made in connection with the deliverables of the group; that page also includes
            instructions for disclosing a patent. An individual who has actual knowledge of a patent
            which the individual believes contains
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
            Claim(s)</a> must disclose the information in accordance with
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
        </p>
        
          <p>This document is governed by the <a id="w3c_process_revision" href="http://www.w3.org/2014/Process-20140801/">1 August 2014 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
          </p>
        
        
      
    
  
</section><section id="toc"><h2 class="introductory" aria-level="1" role="heading" id="h2_toc">Table of Contents</h2><ul class="toc" role="directory" id="respecContents"><li class="tocline"><a href="http://www.w3.org/respec/examples/template.html#section-title" class="tocxref"><span class="secno">1. </span>Section Title</a></li><li class="tocline"><a href="http://www.w3.org/respec/examples/template.html#acknowledgements" class="tocxref"><span class="secno">A. </span>Acknowledgements</a></li></ul></section>
    
    
    
    <section id="section-title">
      <!--OddPage--><h2 aria-level="1" role="heading" id="h2_section-title"><span class="secno">1. </span>Section Title</h2>
      <p>
        Blah blah blah...
      </p>
    </section>

    <section>

     <div id="ecdh" class="section">
        <h3>26. ECDH<span class="section-link">&nbsp;<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#ecdh"></a></span></h3>
        <div id="ecdh-description" class="section">
          <h4>26.1. Description<span class="section-link">&nbsp;<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#ecdh-description"></a></span></h4>
          <p>
            This describes using Elliptic Curve Diffie-Hellman (ECDH) for key generation and key
            agreement, as specified by <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#X9.63">X9.63</a>.
          </p>
        </div>
        <div id="ecdh-registration" class="section">
          <h4>26.2. Registration<span class="section-link">&nbsp;<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#ecdh-registration"></a></span></h4>
          <p>
            The <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#recognized-algorithm-name">recognized algorithm name</a> for
            this algorithm is <code>"ECDH"</code>.
          </p>
          <table>
            <thead>
              <tr>
                <th><a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#supported-operations">Operation</a></th>
                <th><a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#algorithm-specific-params">Parameters</a></th>
                <th><a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#algorithm-result">Result</a></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>generateKey</td>
                <td><a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyGenParams">EcKeyGenParams</a></td>
                <td><a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKeyPair">CryptoKeyPair</a></td>
              </tr>
              <tr>
                <td>deriveBits</td>
                <td><a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcdhKeyDeriveParams">EcdhKeyDeriveParams</a></td>
                <td>Octet string</td>
              </tr>
              <tr>
                <td>importKey</td>
                <td><a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyImportParams">EcKeyImportParams</a></td>
                <td><a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey">CryptoKey</a></td>
              </tr>
              <tr>
                <td>exportKey</td>
                <td>None</td>
                <td>object</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="dh-EcdhKeyDeriveParams" class="section">
          <h4>26.3. EcdhKeyDeriveParams dictionary<span class="section-link">&nbsp;<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dh-EcdhKeyDeriveParams">¶</a></span></h4>
          <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">
typedef Uint8Array <dfn id="dfn-ECPoint">ECPoint</dfn>;

dictionary <dfn id="dfn-EcdhKeyDeriveParams">EcdhKeyDeriveParams</dfn> : <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-Algorithm">Algorithm</a> {
<span class="comment">// The peer's EC public key.</span>
<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey">CryptoKey</a> <dfn id="dfn-EcdhKeyDeriveParams-public">public</dfn>;
};
          </code></pre></div></div>
        </div>
        <div id="ecdh-operations" class="section">
          <h4>26.4. Operations<span class="section-link">&nbsp;<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#ecdh-operations">¶</a></span></h4>
          <dl>
            <dt>Generate Key</dt>
            <dd>
              <ol>
                <li>
                  <p>
                    If any of the members of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyGenParams">EcKeyGenParams</a> are
                    not present in <var>normalizedAlgorithm</var>,
                    then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                    <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-SyntaxError"><code>SyntaxError</code></a>.
                  </p>
                </li>
                <li>
                  <p>
                    If <var>usages</var> contains a value which is not
                    one of <code>"deriveKey"</code> or <code>"deriveBits"</code>,
                    then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                    <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-InvalidAccessError"><code>InvalidAccessError</code></a>.
                  </p>
                </li>
                <li>
                  <p>
                    Generate an Elliptic Curve key pair, as defined in [<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#X9.63">X9.63</a>] with domain parameters for the curve identified by
                    the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyGenParams-namedCurve">namedCurve</a> member of
                    <var>normalizedAlgorithm</var>.
                  </p>
                </li>
                <li>
                  <p>
                    If performing the operation results in an error,
                    then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                    <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-OperationError"><code>OperationError</code></a>.
                  </p>
                </li>
                <li>
                  <p>
                    Let <var>algorithm</var> be a new
                    <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm">EcKeyAlgorithm</a>
                    object.
                  </p>
                </li>
                <li>
                  <p>
                    Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-Algorithm-name">name</a> member of
                    <var>algorithm</var> to <code>"ECDH"</code>.
                  </p>
                </li>
                <li>
                  <p>
                    Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                    attribute of <var>algorithm</var> to equal the
                    <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyGenParams">namedCurve</a> member of
                    <var>normalizedAlgorithm</var>.
                  </p>
                </li>
                <li>
                  <p>
                    Let <var>publicKey</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey">CryptoKey</a>
                    object representing the public key of the generated key pair.
                  </p>
                </li>
                <li>
                  <p>
                    Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot of
                    <var>publicKey</var> to <code>"public"</code>
                  </p>
                </li>
                <li>
                  <p>
                    Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]] internal
                    slot of <var>publicKey</var> to <var>algorithm</var>.
                  </p>
                </li>
                <li>
                  <p>
                    Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-extractable">extractable</a>]] internal
                    slot of <var>publicKey</var> to true.
                  </p>
                </li>
                <li>
                  <p>
                    Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-usages">usages</a>]] internal slot of
                    <var>publicKey</var> to be the empty list.
                  </p>
                </li>
                <li>
                  <p>
                    Let <var>privateKey</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey">CryptoKey</a>
                    object representing the private key of the generated key pair.
                  </p>
                </li>
                <li>
                  <p>
                    Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot of
                    <var>privateKey</var> to <code>"private"</code>
                  </p>
                </li>
                <li>
                  <p>
                    Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]] internal
                    slot of <var>privateKey</var> to <var>algorithm</var>.
                  </p>
                </li>
                <li>
                  <p>
                    Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-extractable">extractable</a>]] internal
                    slot of <var>privateKey</var> to <var>extractable</var>.
                  </p>
                </li>
                <li>
                  <p>
                    Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-usages">usages</a>]] internal slot of
                    <var>privateKey</var> to be the
                    <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-usage-intersection">usage intersection</a> of
                    <var>usages</var> and <code>[ "deriveKey", "deriveBits" ]</code>.
                  </p>
                </li>
                <li>
                  <p>
                    Let <var>result</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKeyPair">CryptoKeyPair</a>
                    dictionary.
                  </p>
                </li>
                <li>
                  <p>
                    Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKeyPair-publicKey">publicKey</a> attribute
                    of <var>result</var> to be <var>publicKey</var>.
                  </p>
                </li>
                <li>
                  <p>
                    Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKeyPair-privateKey">privateKey</a> attribute
                    of <var>result</var> to be <var>privateKey</var>.
                  </p>
                </li>
                <li>
                  <p>
                    Return the result of converting <var>result</var> to an ECMAScript Object, as
                    defined by [<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#WebIDL">WEBIDL</a>].
                  </p>
                </li>
              </ol>
            </dd>
            <dt>Derive Bits</dt>
            <dd>
              <ol>
                <li>
                  <p>
                    If the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot of
                    <var>key</var> is not <code>"private"</code>, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-InvalidAccessError"><code>InvalidAccessError</code></a>.
                  </p>
                </li>
                <li>
                  <p>
                    Let <var>publicKey</var> be the
                    <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcdhKeyDeriveParams-public">public</a> member of
                    <var>normalizedAlgorithm</var>.
                  </p>
                </li>
                <li>
                  <p>
                    If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-KeyAlgorithm-name">name</a> attribute of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]] internal slot of
                    <var>publicKey</var> is not <code>"ECDH"</code>, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-InvalidAccessError"><code>InvalidAccessError</code></a>.
                  </p>
                </li>
                <li>
                  <p>
                    If the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot of
                    <var>publicKey</var> is not <code>"public"</code>, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-InvalidAccessError"><code>InvalidAccessError</code></a>.
                  </p>
                </li>
                <li>
                  <p>
                    If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a> attribute of
                    the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]] internal slot of
                    <var>publicKey</var> is not equal to the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a> property of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]] internal slot of
                    <var>key</var>, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a>
                    named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                  </p>
                </li>
                <li>
                  <p>
                    Perform the ECDH primitive specified in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#X9.63">X9.63</a> Section
                    5.4.1 with <var>key</var> as the EC private key <var>d</var> and the EC public
                    key represented by the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-handle">handle</a>]]
                    internal slot of <var>publicKey</var> as the EC public key <var>Q</var>.
                  </p>
                </li>
                <li>
                  <p>
                    If performing the operation results in an error,
                    then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                    <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-OperationError"><code>OperationError</code></a>.
                  </p>
                </li>
                <li>
                  <p>
                    Let <var>secret</var> be the result of applying the field element to
                    octet string conversion defined in Section ? of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#X9.63">X9.63</a>
                    to the output of the ECDH primitive.
                  </p>
                </li>
                <li>
                  <dl class="switch">
                    <dt>If <var>length</var> is null:</dt>
                    <dd>Return <var>secret</var></dd>
                    <dt>Otherwise:</dt>
                    <dd>
                      <dl class="switch">
                        <dt>
                          If the length of <var>secret</var> in bits is less than
                          <var>length</var>:
                        </dt>
                        <dd>
                          <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">Return an error</a> named
                          <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                        </dd>
                        <dt>Otherwise:</dt>
                        <dd>Return the first <var>length</var> bits of <var>secret</var>.</dd>
                      </dl>
                    </dd>
                  </dl>
                </li>
              </ol>
            </dd>
          
            <dt>Import Key</dt>
            <dd>
              <ol>
                <li>
                  <p>Let <var>keyData</var> be the key data to be imported.</p>
                </li>
                <li>
                  <dl class="switch">
                    <dt>If <var>format</var> is <code>"spki"</code>:</dt>
                    <dd>
                      <ol>
                        <li>
                          <p>
                            Let <var>spki</var> be the result of running the
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-parse-a-spki">parse a subjectPublicKeyInfo</a>
                            algorithm over <var>keyData</var>
                          </p>
                        </li>
                        <li>
                          <p>
                            If an error occurred while parsing,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <code>algorithm</code> object identifier field of the
                            <code>algorithm</code> AlgorithmIdentifier field of <var>spki</var> is
                            not equal to the <code>id-ecPublicKey</code> or <code>id-ecDH</code>
                            object identifiers defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a>,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <code>parameters</code> field of the <code>algorithm</code>
                            AlgorithmIdentifier field of <var>spki</var> is absent,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>params</var> be the <code>parameters</code> field of the
                            <code>algorithm</code> AlgorithmIdentifier field of <var>spki</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If <var>params</var> is not an instance of the
                            <code>namedCurve</code> ASN.1 type defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC
                            5480</a>,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>namedCurve</var> be a string whose initial value is
                            undefined.
                          </p>
                        </li>
                        <li>
                          <dl class="switch">
                            <dt>
                              If <var>params</var> is equivalent to the <code>secp256r1</code>
                              object identifier defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a>:
                            </dt>
                            <dd>
                              <p>
                                Set <var>namedCurve</var> <code>"P-256"</code>.
                              </p>
                            </dd>
                            <dt>
                              If <var>params</var> is equivalent to the <code>secp384r1</code>
                              object identifier defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a>:
                            </dt>
                            <dd>
                              <p>
                                Set <var>namedCurve</var> <code>"P-384"</code>.
                              </p>
                            </dd>
                            <dt>
                              If <var>params</var> is equivalent to the <code>secp521r1</code>
                              object identifier defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a>:
                            </dt>
                            <dd>
                              <p>
                                Set <var>namedCurve</var> <code>"P-521"</code>.
                              </p>
                            </dd>
                            <dt>Otherwise:</dt>
                            <dd>
                              <p>
                                <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">Return an error</a> named
                                <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                              </p>
                            </dd>
                          </dl>
                        </li>
                        <li>
                          <p>
                            If <var>namedCurve</var> is defined, and not equal to the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyImportParams-namedCurve">namedCurve</a> member of
                            <var>normalizedAlgorithm</var>, <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>key</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey">CryptoKey</a>
                            object that represents the Elliptic Curve public key identified by
                            performing the conversion steps defined in Section 2.2 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot
                            of <var>key</var> to <code>"public"</code>
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>algorithm</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm">EcKeyAlgorithm</a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-KeyAlgorithm-name">name</a> attribute of
                            <var>algorithm</var> to <code>"ECDH"</code>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                            attribute of <var>algorithm</var> to <var>namedCurve</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]]
                            internal slot of <var>key</var> to <var>algorithm</var>.
                          </p>
                        </li>
                      </ol>
                    </dd>
                    <dt>If <var>format</var> is <code>"pkcs8"</code>:</dt>
                    <dd>
                      <ol>
                        <li>
                          <p>
                            Let <var>privateKeyInfo</var> be the result of running the
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-parse-a-privateKeyInfo">parse a privateKeyInfo</a>
                            algorithm over <var>keyData</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If an error occurs while parsing,
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <code>algorithm</code> object identifier field of the
                            <code>privateKeyAlgorithm</code> PrivateKeyAlgorithm field of
                            <var>privateKeyInfo</var> is not equal to the
                            <code>id-ecPublicKey</code> or <code>id-ecDH</code> object identifiers
                            defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a>,
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <code>parameters</code> field of the
                            <code>privateKeyAlgorithm</code> PrivateKeyAlgorithmIdentifier field
                            of <var>privateKeyInfo</var> is not present,
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>params</var> be the <code>parameters</code> field of the
                            <code>privateKeyAlgorithm</code> PrivateKeyAlgorithmIdentifier field
                            of <var>privateKeyInfo</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <var>params</var> is not an instance of the
                            <code>namedCurve</code> ASN.1 type defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC
                            5480</a>,
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>ecPrivateKey</var> be the result of performing the
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-parse-an-asn1-structure">parse an ASN.1 structure</a>
                            algorithm, with <var>data</var> as the <code>privateKey</code> field
                            of <var>privateKeyInfo</var>, <var>structure</var> as the ASN.1
                            <code>ECPrivateKey</code> structure specified in Section 3 of
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5915">RFC 5915</a>, and <var>exactData</var> set to true.
                          </p>
                        </li>
                        <li>
                          <p>
                            If an error occurred while parsing,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <code>parameters</code> field of <var>ecPrivateKey</var> is
                            present, and is not an instance of the <code>namedCurve</code> ASN.1
                            type defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a>, or does not contain
                            the same object identifier as the <code>parameters</code> field of the
                            <code>privateKeyAlgorithm</code> PrivateKeyAlgorithmIdentifier field
                            of <var>privateKeyInfo</var>,
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>namedCurve</var> be a string whose initial value is
                            undefined.
                          </p>
                        </li>
                        <li>
                          <dl class="switch">
                            <dt>
                              If <var>params</var> is equivalent to the <code>secp256r1</code>
                              object identifier defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a>:
                            </dt>
                            <dd>
                              <p>
                                Set <var>namedCurve</var> <code>"P-256"</code>.
                              </p>
                            </dd>
                            <dt>
                              If <var>params</var> is equivalent to the <code>secp384r1</code>
                              object identifier defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a>:
                            </dt>
                            <dd>
                              <p>
                                Set <var>namedCurve</var> <code>"P-384"</code>.
                              </p>
                            </dd>
                            <dt>
                              If <var>params</var> is equivalent to the <code>secp521r1</code>
                              object identifier defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a>:
                            </dt>
                            <dd>
                              <p>
                                Set <var>namedCurve</var> <code>"P-521"</code>.
                              </p>
                            </dd>
                            <dt>Otherwise:</dt>
                            <dd>
                              <p>
                                <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">Return an error</a> named
                                <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                              </p>
                            </dd>
                          </dl>
                        </li>
                        <li>
                          <p>
                            If <var>namedCurve</var> is defined, and not equal to the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyImportParams-namedCurve">namedCurve</a> member of
                            <var>normalizedAlgorithm</var>, <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>key</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey">CryptoKey</a>
                            object that represents the Elliptic Curve private key identified by
                            performing the conversion steps defined in Section 3 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5915">RFC 5915</a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot
                            of <var>key</var> to <code>"private"</code>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>algorithm</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm">EcKeyAlgorithm</a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-KeyAlgorithm-name">name</a> attribute of
                            <var>algorithm</var> to <code>"ECDH"</code>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                            attribute of <var>algorithm</var> to <var>namedCurve</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]]
                            internal slot of <var>key</var> to <var>algorithm</var>.
                          </p>
                        </li>
                      </ol>
                    </dd>
                    <dt>If <var>format</var> is <code>"jwk"</code>:</dt>
                    <dd>
                      <ol>
                        <li>
                          <p>
                            Let <var>jwk</var> be the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-JsonWebKey">JsonWebKey</a>
                            dictionary represented by <var>keyData</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If an error occurred while parsing,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <code>"kty"</code> field of <var>jwk</var> is
                            to <code>"EC"</code>,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <code>"use"</code> field of <var>jwk</var> is present,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <code>"key_ops"</code> field of <var>jwk</var> is present, and
                            is invalid according to the requirements of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#jwk">JSON Web
                            Key</a>, or it does not contain all of the specified <var>usages</var>
                            values, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a>
                            named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <code>"ext"</code> field of <var>jwk</var> is present and
                            has the value false and <var>extractable</var> is true,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>namedCurve</var> be a string whose value is equal to the
                            <code>"crv"</code> field of <var>jwk</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If <var>namedCurve</var> is not equal to the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyImportParams-namedCurve">namedCurve</a> member of
                            <var>normalizedAlgorithm</var>, <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <dl class="switch">
                            <dt>If the <code>"d"</code> field is present:</dt>
                            <dd>
                              <ol>
                                <li>
                                  <p>
                                    If <var>jwk</var> does not meet the requirements of Section
                                    6.2.2 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#jwa">JSON Web Algorithms</a>, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                                  </p>
                                </li>
                                <li>
                                  <p>
                                    Let <var>key</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey">CryptoKey</a> object that represents the
                                    Elliptic Curve private key identified by interpreting
                                    <var>jwk</var> according to Section 6.2.2 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#jwa">JSON Web Algorithms</a>.
                                  </p>
                                </li>
                                <li>
                                  <p>
                                    Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]]
                                    internal slot of <var>Key</var> to <code>"private"</code>.
                                  </p>
                                </li>
                              </ol>
                            </dd>
                            <dt>Otherwise:</dt>
                            <dd>
                              <ol>
                                <li>
                                  <p>
                                    If <var>jwk</var> does not meet the requirements of Section
                                    6.2.1 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#jwa">JSON Web Algorithms</a>, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                                  </p>
                                </li>
                                <li>
                                  <p>
                                    Let <var>key</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey">CryptoKey</a> object that represents the
                                    Elliptic Curve public key identified by interpreting
                                    <var>jwk</var> according to Section 6.2.1 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#jwa">JSON Web Algorithms</a>.
                                  </p>
                                </li>
                                <li>
                                  <p>
                                    Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]]
                                    internal slot of <var>Key</var> to <code>"public"</code>.
                                  </p>
                                </li>
                              </ol>
                            </dd>
                          </dl>
                        </li>
                        <li>
                          <p>
                            Let <var>algorithm</var> be a new instance of an <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm">EcKeyAlgorithm</a> object.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-KeyAlgorithm-name">name</a> attribute of
                            <var>algorithm</var> to <code>"ECDH"</code>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                            attribute of <var>algorithm</var> to <var>namedCurve</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]]
                            internal slot of <var>key</var> to <var>algorithm</var>.
                          </p>
                        </li>
                      </ol>
                    </dd>
                    <dt>If <var>format</var> is <code>"raw"</code>:</dt>
                    <dd>
                      <ol>
                        <li>
                          <p>
                            If any of the members of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyImportParams">EcKeyImportParams</a> are not present in
                            <var>normalizedAlgorithm</var>,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-SyntaxError"><code>SyntaxError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyImportParams-namedCurve">namedCurve</a>
                            member of <var>normalizedAlgorithm</var> is not a
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-NamedCurve">named curve</a>,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If <var>usages</var> is not the empty list,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-DataError"><code>DataError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            If <var>extractable</var> is false,
                            then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-InvalidAccessError"><code>InvalidAccessError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>Q</var> be the elliptic curve point on the curve identified
                            by the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyImportParams-namedCurve">namedCurve</a>
                            member of <var>normalizedAlgorithm</var> identified by interpreting
                            <var>keyData</var> according to <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#X9.62">X9.62</a> Annex A.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>algorithm</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm">EcKeyAlgorithm</a> object.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-KeyAlgorithm-name">name</a> attribute of
                            <var>algorithm</var> to <code>"ECDH"</code>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-KeyAlgorithm-namedCurve">namedCurve</a>
                            attribute of <var>algorithm</var> to equal the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyImportParams-namedCurve">namedCurve</a> member of
                            <var>normalizedAlgorithm</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>key</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey">CryptoKey</a>
                            object.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot
                            of <var>key</var> to <code>"public"</code>
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]]
                            internal slot of <var>key</var> to <var>algorithm</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-usages">usages</a>]] internal
                            slot of <var>key</var> to <var>usages</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-extractable">extractable</a>]]
                            internal slot of <var>key</var> to <var>extractable</var>.
                          </p>
                        </li>
                      </ol>
                    </dd>
                    <dt>Otherwise:</dt>
                    <dd>
                      <p>
                        <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">Return an error</a> named
                        <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-NotSupportedError"><code>NotSupportedError</code></a>.
                      </p>
                    </dd>
                  </dl>
                </li>
                <li>
                  <p>
                    Return <var>key</var>
                  </p>
                </li>
              </ol>
            </dd>

            <dt>Export Key</dt>
            <dd>
              <ol>
                <li>
                  <p>
                    Let <var>key</var> be the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey">CryptoKey</a> to be
                    exported.
                  </p>
                </li>
                <li>
                  <p>
                    If the underlying cryptographic key material represented by the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-handle">handle</a>]] internal slot of <var>key</var>
                    cannot be accessed, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an
                    error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-OperationError"><code>OperationError</code></a>.
                  </p>
                </li>
                <li>
                  <dl class="switch">
                    <dt>If <var>format</var> is <code>"spki"</code>:</dt>
                    <dd>
                      <ol>
                        <li>
                          <p>
                            If the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot
                            of <var>key</var> is not <code>"public"</code>, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-InvalidAccessError"><code>InvalidAccessError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>result</var> be the result of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-encode-a-subjectPublicKeyInfo">encoding a
                            subjectPublicKeyInfo</a> with the following properties:
                          </p>
                          <ul>
                            <li>
                              <p>
                                Set the <var>algorithm</var> field to an
                                <code>AlgorithmIdentifier</code> ASN.1 type with the following
                                properties:
                              </p>
                              <ul>
                                <li>
                                  <p>
                                    Set the <var>algorithm</var> object identifier to the OID
                                    <code>1.3.132.112</code>.
                                  </p>
                                </li>
                                <li>
                                  <p>
                                    Set the <var>parameters</var> field to an instance of the
                                    <code>namedCurve</code> ASN.1 type as follows:
                                  </p>
                                  <dl class="switch">
                                    <dt>
                                      If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                                      attribute of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]]
                                      internal slot of <var>key</var> is <code>"P-256"</code>:
                                    </dt>
                                    <dd>
                                      <p>
                                        Let the <var>namedCurve</var> be the object identifier
                                        <code>secp256r1</code> defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC
                                        5480</a>
                                      </p>
                                    </dd>
                                    <dt>
                                      If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                                      attribute of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]]
                                      internal slot of <var>key</var> is <code>"P-384"</code>:
                                    </dt>
                                    <dd>
                                      <p>
                                        Let the <var>namedCurve</var> be the object identifier
                                        <code>secp384r1</code> defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC
                                        5480</a>
                                      </p>
                                    </dd>
                                    <dt>
                                      If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                                      attribute of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]]
                                      internal slot of <var>key</var> is <code>"P-521"</code>:
                                    </dt>
                                    <dd>
                                      <p>
                                        Let the <var>namedCurve</var> be the object identifier
                                        <code>secp521r1</code> defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC
                                        5480</a>
                                      </p>
                                    </dd>
                                  </dl>
                                </li>
                              </ul>
                            </li>
                            <li>
                              <p>
                                Set the <var>subjectPublicKey</var> field to the octet string that
                                represents the Elliptic Curve public key represented by the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-handle">handle</a>]] internal slot of
                                <var>key</var> according to the encoding rules specified in
                                Section 2.2 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC 5480</a> and using the
                                uncompressed form.
                              </p>
                            </li>
                          </ul>
                        </li>
                      </ol>
                    </dd>
                    <dt>If <var>format</var> is <code>"pkcs8"</code>:</dt>
                    <dd>
                      <ol>
                        <li>
                          <p>
                            If the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot
                            of <var>key</var> is not <code>"private"</code>, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-InvalidAccessError"><code>InvalidAccessError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>result</var> be the result of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-encode-a-privateKeyInfo">encoding a
                            privateKeyInfo</a> with the following properties:
                          </p>
                          <ul>
                            <li>
                              <p>
                                Set the <var>version</var> field to <code>0</code>.
                              </p>
                            </li>
                            <li>
                              <p>
                                Set the <var>privateKeyAlgorithm</var> field to an
                                <code>PrivateKeyAlgorithmIdentifier</code> ASN.1 type with the
                                following properties:
                              </p>
                              <ul>
                                <li>
                                  <p>
                                    Set the <var>algorithm</var> object identifier to the OID
                                    <code>1.3.132.112</code>.
                                  </p>
                                </li>
                                <li>
                                  <p>
                                    Set the <var>parameters</var> field to an instance of the
                                    <code>namedCurve</code> ASN.1 type as follows:
                                  </p>
                                  <dl class="switch">
                                    <dt>
                                      If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                                      attribute of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]]
                                      internal slot of <var>key</var> is <code>"P-256"</code>:
                                    </dt>
                                    <dd>
                                      <p>
                                        Let the <var>namedCurve</var> be the object identifier
                                        <code>secp256r1</code> defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC
                                        5480</a>
                                      </p>
                                    </dd>
                                    <dt>
                                      If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                                      attribute of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]]
                                      internal slot of <var>key</var> is <code>"P-384"</code>:
                                    </dt>
                                    <dd>
                                      <p>
                                        Let the <var>namedCurve</var> be the object identifier
                                        <code>secp384r1</code> defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC
                                        5480</a>
                                      </p>
                                    </dd>
                                    <dt>
                                      If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                                      attribute of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]]
                                      internal slot of <var>key</var> is <code>"P-521"</code>:
                                    </dt>
                                    <dd>
                                      <p>
                                        Let the <var>namedCurve</var> be the object identifier
                                        <code>secp521r1</code> defined in <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5480">RFC
                                        5480</a>
                                      </p>
                                    </dd>
                                  </dl>
                                </li>
                              </ul>
                            </li>
                            <li>
                              <p>
                                Set the <var>privateKey</var> field to the result of DER-encoding
                                an instance of the <code>ECPrivateKey</code> structure defined in
                                Section 3 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RFC5915">RFC 5915</a> for the Elliptic
                                Curve private key represented by the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-handle">handle</a>]] internal slot of
                                <var>key</var> and that conforms to the following:
                              </p>
                              <ul>
                                <li>
                                  <p>
                                    The <var>parameters</var> field is present, and is equivalent
                                    to the <var>parameters</var> field of the
                                    <var>privateKeyAlgorithm</var> field of this
                                    <code>PrivateKeyInfo</code> ASN.1 structure.
                                  </p>
                                </li>
                                <li>
                                  <p>
                                    The <var>publicKey</var> field is present and represents the
                                    Elliptic Curve public key associated with the Elliptic Curve
                                    private key represented by the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-handle">handle</a>]] internal slot
                                    of <var>key</var>.
                                  </p>
                                </li>
                              </ul>
                            </li>
                          </ul>
                        </li>
                      </ol>
                    </dd>
                    <dt>If <var>format</var> is <code>"jwk"</code>:</dt>
                    <dd>
                      <ol>
                        <li>
                          <p>
                            Let <var>jwk</var> be a new <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-JsonWebKey">JsonWebKey</a>
                            dictionary.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <code>kty</code> attribute of <var>jwk</var> to
                            <code>"EC"</code>.
                          </p>
                        </li>
                        <li>
                          <dl class="switch">
                            <dt>
                              If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                              attribute of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]] internal slot
                              of <var>key</var> is <code>"P-256"</code>:
                            </dt>
                            <dd>
                              Set the <code>crv</code> attribute of <var>jwk</var> to
                              <code>"P-256"</code>
                            </dd>
                            <dt>
                              If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                              attribute of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]] internal slot
                              of <var>key</var> is <code>"P-384"</code>:
                            </dt>
                            <dd>
                              Set the <code>crv</code> attribute of <var>jwk</var> to
                              <code>"P-384"</code>
                            </dd>
                            <dt>
                              If the <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-EcKeyAlgorithm-namedCurve">namedCurve</a>
                              attribute of the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-algorithm">algorithm</a>]] internal slot
                              of <var>key</var> is <code>"P-521"</code>:
                            </dt>
                            <dd>
                              Set the <code>crv</code> attribute of <var>jwk</var> to
                              <code>"P-521"</code>
                            </dd>
                          </dl>
                        </li>
                        <li>
                          <p>
                            Set the <code>x</code> attribute of <var>jwk</var> according to the
                            definition in Section 6.2.1.2 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#jwa">JSON Web
                            Algorithms</a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <code>y</code> attribute of <var>jwk</var> according to the
                            definition in Section 6.2.1.3 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#jwa">JSON Web
                            Algorithms</a>.
                          </p>
                        </li>
                        <li>
                          <dl class="switch">
                            <dt>
                              If the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot
                              of <var>key</var> is <code>"private"</code>
                            </dt>
                            <dd>
                              <p>
                                Set the <code>d</code> attribute of <var>jwk</var> according to the
                                definition in Section 6.2.2.1 of <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#jwa">JSON Web
                                Algorithms</a>.
                              </p>
                            </dd>
                          </dl>
                        </li>
                        <li>
                          <p>
                            Set the <code>key_ops</code> attribute of <var>jwk</var> to the
                            <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-usages">usages</a> attribute of <var>key</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Set the <code>ext</code> attribute of <var>jwk</var> to the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-extractable">extractable</a>]] internal slot
                            of <var>key</var>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>result</var> be the result of converting <var>jwk</var>
                            to an ECMAScript Object, as defined by [<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#WebIDL">WEBIDL</a>].
                          </p>
                        </li>
                      </ol>
                    </dd>
                    <dt>
                      If <var>format</var> is <code>"raw"</code>:
                    </dt>
                    <dd>
                      <ol>
                        <li>
                          <p>
                            If the [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-type">type</a>]] internal slot
                            of <var>key</var> is not <code>"public"</code>, then <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">return an error</a> named <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-InvalidAccessError"><code>InvalidAccessError</code></a>.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>data</var> be an octet string representing the Elliptic Curve
                            point <var>Q</var> represented by [[<a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-CryptoKey-slot-handle">handle</a>]] internal slot of
                            <var>key</var> according to <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#X9.62">X9.62</a> Annex A.
                          </p>
                        </li>
                        <li>
                          <p>
                            Let <var>result</var> be a new <code>ArrayBuffer</code> containing
                            <var>data</var>.
                          </p>
                        </li>
                      </ol>
                    </dd>
                    <dt>Otherwise:</dt>
                    <dd>
                      <p>
                        <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#concept-return-an-error">Return an error</a> named
                        <a href="https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#dfn-NotSupportedError"><code>NotSupportedError</code></a>.
                      </p>
                    </dd>
                  </dl>
                </li>
                <li>
                  <p>
                    Return <var>result</var>.
                  </p>
                </li>
              </ol>
            </dd>
          </dl>
        </div>
      </div>

   </section>
    
    <section class="appendix" id="acknowledgements">
      <!--OddPage--><h2 aria-level="1" role="heading" id="h2_acknowledgements"><span class="secno">A. </span>Acknowledgements</h2>
      <p>
        Many thanks to Robin Berjon for making our lives so much easier with his cool tool.
      </p>
    </section>
  

<div id="respec-ui" class="removeOnSave" style="position: fixed; top: 20px; right: 20px; width: 202px; text-align: right;"><button style="font-weight: bold; border: 1px solid rgb(204, 204, 204); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background: rgb(255, 255, 255);">ReSpec</button><button style="color: rgb(255, 255, 255); font-weight: bold; border: none; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; margin-left: 5px; background: rgb(255, 102, 0);">1</button><div style="border: 1px solid rgb(0, 0, 0); width: 200px; display: none; text-align: left; margin-top: 5px; margin-right: 5px; background: rgb(255, 255, 255);"><button style="border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(204, 204, 204); width: 100%; text-align: left; font-size: inherit; background: rgb(255, 255, 255);">Save Snapshot</button><button style="border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(204, 204, 204); width: 100%; text-align: left; font-size: inherit; background: rgb(255, 255, 255);">About ReSpec</button><button style="border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(204, 204, 204); width: 100%; text-align: left; font-size: inherit; background: rgb(255, 255, 255);">Search Specref DB</button></div></div></body></html>